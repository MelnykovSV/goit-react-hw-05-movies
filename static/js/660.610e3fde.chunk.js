"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[660],{841:function(n,e,t){t.d(e,{$u:function(){return p},M1:function(){return x},Wf:function(){return h},r3:function(){return f},tx:function(){return v}});var r=t(5861),i=t(4687),c=t.n(i),a=t(1243),o="https://api.themoviedb.org/3/",u="f5947bee69b0eabce6ba631e79612468";function s(n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.Z.get(e);case 3:return t=n.sent,n.abrupt("return",t);case 7:throw n.prev=7,n.t0=n.catch(0),console.log(n.t0.message),new Error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function p(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",s("".concat(o,"trending/all/day?api_key=").concat(u,"&page=1")));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return s("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(n,"&page=1"))}function f(n){return s("".concat(o,"movie/").concat(n,"?api_key=").concat(u))}function x(n){return s("".concat(o,"movie/").concat(n,"/credits?api_key=").concat(u))}function v(n){return s("".concat(o,"movie/").concat(n,"/reviews?api_key=").concat(u))}},25:function(n,e,t){t.d(e,{Z:function(){return u}});t(2791);var r,i=t(168),c=t(7402).Z.div(r||(r=(0,i.Z)(["\n  a {\n    width: fit-content;\n  }\n"]))),a=t(1087),o=t(184),u=function(n){var e=n.errorMessage;return(0,o.jsxs)(c,{children:[(0,o.jsx)("h1",{children:"ERROR"}),(0,o.jsxs)("p",{children:["Something happened. Go back to the ",(0,o.jsx)(a.rU,{to:"/",children:"Home page"})," "]}),(0,o.jsx)("p",{children:e})]})}},5733:function(n,e,t){t.d(e,{M:function(){return p}});var r,i=t(7689),c=t(1087),a=t(168),o=t(7402),u=t(4423),s=o.Z.ul(r||(r=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  li {\n    a {\n      transition: background-color 0.3s linear;\n      display: block;\n      border-radius: 5px;\n      padding: 5px;\n      width: fit-content;\n      color: ",";\n      :hover {\n        background-color: ",";\n      }\n    }\n  }\n"])),u.O.text.primary,u.O.link.bg.hover),l=t(184),p=function(n){var e=n.movies,t=(0,i.TH)();return(0,l.jsx)(s,{children:e.map((function(n){var e=n.title,r=n.name,i=n.id;return(0,l.jsx)("li",{children:(0,l.jsx)(c.rU,{to:"/movies/".concat(i),state:{from:t},children:e||r})},i)}))})}},5660:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var r,i,c=t(9439),a=t(2791),o=t(1087),u=t(168),s=t(7402),l=s.Z.div(r||(r=(0,u.Z)([""]))),p=s.Z.div(i||(i=(0,u.Z)(["\n  margin-bottom: 20px;\n  form {\n    display: flex;\n\n    input {\n      display: block;\n      font-size: 15px;\n      padding: 10px 20px;\n    }\n\n    button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n\n      height: 40px;\n      width: 40px;\n      svg {\n        width: 30px;\n        height: 30px;\n      }\n    }\n  }\n"]))),d=t(719),h=t(184),f=function(n){var e=n.searchFormSubmitHandler;return(0,h.jsx)(p,{children:(0,h.jsxs)("form",{onSubmit:e,children:[(0,h.jsx)("input",{type:"text",name:"searchQuery"}),(0,h.jsx)("button",{type:"submit",children:(0,h.jsx)(d.wnI,{})})]})})},x=t(5733),v=t(841),m=t(8966),g=t(25),y=function(){var n=(0,o.lr)(""),e=(0,c.Z)(n,2),t=e[0],r=e[1],i=(0,a.useState)("pending"),u=(0,c.Z)(i,2),s=u[0],p=u[1],d=(0,a.useState)(""),y=(0,c.Z)(d,2),b=y[0],j=y[1],w=(0,a.useState)([]),k=(0,c.Z)(w,2),Z=k[0],_=k[1],S=function(n){n.preventDefault();var e=n.target,t=e.searchQuery.value.trim();t&&(p("pending"),r({query:t}),e.searchQuery.value="")};return(0,a.useEffect)((function(){(0,v.Wf)(t.get("query")).then((function(n){_(n.data.results),p("resolved")})).catch((function(n){j(n.status_message),p("rejected")}))}),[t]),t.get("query")?"rejected"===s?(0,h.jsx)(g.Z,{errorMessage:b}):"pending"===s?(0,h.jsxs)(l,{children:[(0,h.jsx)(f,{value:t.get("query"),searchFormSubmitHandler:S}),(0,h.jsx)(m.RL,{height:"80",width:"80",radius:"48",color:"#4fa94d",ariaLabel:"watch-loading",wrapperStyle:{},visible:!0})]}):"resolved"===s?(0,h.jsxs)(l,{children:[(0,h.jsx)(f,{value:t.get("query"),searchFormSubmitHandler:S}),Z.length?(0,h.jsx)(x.M,{movies:Z}):(0,h.jsx)("p",{children:"Cant find a movie with name ".concat(t.get("query"))})]}):void 0:(0,h.jsx)(l,{children:(0,h.jsx)(f,{value:t.get("query"),searchFormSubmitHandler:S})})}}}]);
//# sourceMappingURL=660.610e3fde.chunk.js.map