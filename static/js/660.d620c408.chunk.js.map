{"version":3,"file":"static/js/660.d620c408.chunk.js","mappings":"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","sources":["api.ts","components/ErrorPage/ErrorPage.styled.tsx","components/ErrorPage/ErrorPage.tsx","components/FilmsList/FilmsList.styled.tsx","components/FilmsList/FilmsList.tsx","pages/Movies/Movies.styled.tsx","components/Searchbar/Searchbar.styled.tsx","components/Searchbar/Searchbar.tsx","pages/Movies/Movies.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE = 'https://api.themoviedb.org/3/';\nconst KEY = 'f5947bee69b0eabce6ba631e79612468';\n\nexport async function getData(query: string) {\n  try {\n    const response = await axios.get(query);\n    return response;\n  } catch (error: any) {\n    console.log(error.message);\n    throw new Error(error.message);\n  }\n}\n\nexport async function getTrendedMovies() {\n  return getData(`${BASE}trending/all/day?api_key=${KEY}&page=1`);\n}\n\nexport function getMoviesByQuery(query: string) {\n  return getData(`${BASE}search/movie?api_key=${KEY}&query=${query}&page=1`);\n}\n\nexport function getMovieData(movieID: string) {\n  return getData(`${BASE}movie/${movieID}?api_key=${KEY}`);\n}\n\nexport function getMovieCast(movieID: string) {\n  return getData(`${BASE}movie/${movieID}/credits?api_key=${KEY}`);\n}\n\nexport function getMovieReviews(movieID: string) {\n  return getData(`${BASE}movie/${movieID}/reviews?api_key=${KEY}`);\n}\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  a {\n    width: fit-content;\n  }\n`;\n","import React from 'react';\n\nimport { Container } from './ErrorPage.styled';\nimport { Link } from 'react-router-dom';\nimport { IErrorPageProps } from '../../interfaces';\n\nconst ErrorPage = ({ errorMessage }: IErrorPageProps) => {\n  return (\n    <Container>\n      <h1>ERROR</h1>\n      <p>\n        Something happened. Go back to the <Link to=\"/\">Home page</Link>{' '}\n      </p>\n      <p>{errorMessage}</p>\n    </Container>\n  );\n};\n\nexport default ErrorPage;\n","import styled from '@emotion/styled';\nimport { colors } from '../../constants';\n\nexport const Container = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  li {\n    a {\n      transition: background-color 0.3s linear;\n      display: block;\n      border-radius: 5px;\n      padding: 5px;\n      width: fit-content;\n      color: ${colors.text.primary};\n      :hover {\n        background-color: ${colors.link.bg.hover};\n      }\n    }\n  }\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { Container } from './FilmsList.styled';\nimport { IFilmsListItem, IFilmsListProps } from '../../interfaces';\n\nexport const FilmsList = ({ movies }: IFilmsListProps) => {\n  const location = useLocation();\n\n  return (\n    <Container>\n      {movies.map(({ title, name, id }: IFilmsListItem) => {\n        return (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title || name}\n            </Link>\n          </li>\n        );\n      })}\n    </Container>\n  );\n};\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div``;\n","import styled from '@emotion/styled';\n\nexport const Container = styled.div`\n  margin-bottom: 20px;\n  form {\n    display: flex;\n\n    input {\n      display: block;\n      font-size: 15px;\n      padding: 10px 20px;\n    }\n\n    button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n\n      height: 40px;\n      width: 40px;\n      svg {\n        width: 30px;\n        height: 30px;\n      }\n    }\n  }\n`;\n","import { Container } from './Searchbar.styled';\n\nimport { BiSearchAlt2 } from 'react-icons/bi';\n\nexport const Searchbar = ({ searchFormSubmitHandler }: any) => {\n  return (\n    <Container>\n      <form onSubmit={searchFormSubmitHandler}>\n        <input type=\"text\" name=\"searchQuery\" />\n        <button type=\"submit\">\n          <BiSearchAlt2 />\n        </button>\n      </form>\n    </Container>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Container } from './Movies.styled';\nimport { Searchbar } from '../../components/Searchbar/Searchbar';\nimport { FilmsList } from '../../components/FilmsList/FilmsList';\nimport { getMoviesByQuery } from '../../api';\nimport { Watch } from 'react-loader-spinner';\nimport { IError } from '../../interfaces';\n\nimport ErrorPage from '../../components/ErrorPage/ErrorPage';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams]: any = useSearchParams('');\n  const [status, setStatus] = useState('pending');\n  const [error, setError] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const searchFormSubmitHandler = (e: React.SyntheticEvent) => {\n    e.preventDefault();\n\n    const target = e.target as typeof e.target & {\n      searchQuery: { value: string };\n    };\n\n    const trimmedQuery = target.searchQuery.value.trim();\n    if (trimmedQuery) {\n      setStatus('pending');\n      setSearchParams({ query: trimmedQuery });\n      target.searchQuery.value = '';\n    }\n  };\n\n  useEffect(() => {\n    getMoviesByQuery(searchParams.get('query'))\n      .then(response => {\n        setMovies(response.data.results);\n        setStatus('resolved');\n      })\n      .catch((error: IError) => {\n        setStatus('rejected');\n        setError(error.status_message);\n      });\n  }, [searchParams]);\n\n  if (!searchParams.get('query')) {\n    return (\n      <Container>\n        <Searchbar\n          value={searchParams.get('query')}\n          searchFormSubmitHandler={searchFormSubmitHandler}\n        ></Searchbar>\n      </Container>\n    );\n  } else {\n    if (status === 'rejected') {\n      return <ErrorPage errorMessage={error} />;\n    }\n    if (status === 'pending') {\n      return (\n        <Container>\n          <Searchbar\n            value={searchParams.get('query')}\n            searchFormSubmitHandler={searchFormSubmitHandler}\n          ></Searchbar>\n          <Watch\n            height=\"80\"\n            width=\"80\"\n            radius=\"48\"\n            color=\"#4fa94d\"\n            ariaLabel=\"watch-loading\"\n            wrapperStyle={{}}\n            visible={true}\n          />\n        </Container>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <Container>\n          <Searchbar\n            value={searchParams.get('query')}\n            searchFormSubmitHandler={searchFormSubmitHandler}\n          ></Searchbar>\n          {movies.length ? (\n            <FilmsList movies={movies}></FilmsList>\n          ) : (\n            <p>{`Cant find a movie with name ${searchParams.get('query')}`}</p>\n          )}\n        </Container>\n      );\n    }\n  }\n};\n\nexport default Movies;\n"],"names":["BASE","KEY","getData","query","axios","response","console","log","message","Error","getTrendedMovies","getMoviesByQuery","getMovieData","movieID","getMovieCast","getMovieReviews","Container","styled","errorMessage","to","colors","FilmsList","movies","location","useLocation","map","title","name","id","state","from","Searchbar","searchFormSubmitHandler","onSubmit","type","useSearchParams","searchParams","setSearchParams","useState","status","setStatus","error","setError","setMovies","e","preventDefault","target","trimmedQuery","searchQuery","value","trim","useEffect","get","then","data","results","catch","status_message","ErrorPage","height","width","radius","color","ariaLabel","wrapperStyle","visible","length"],"sourceRoot":""}